<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Content Security Policy - 防止XSS攻击 -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
        style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
        img-src 'self' data: https: http:;
        font-src 'self' https://cdn.jsdelivr.net;
        connect-src 'self';
        frame-ancestors 'none';
    ">
    <title>欢迎使用 TMDB剧集管理系统</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/custom.css" rel="stylesheet">
    <link href="css/welcome.css" rel="stylesheet">
</head>
<body class="welcome-page">
    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container">
            <div class="row align-items-center min-vh-100">
                <div class="col-lg-6 mx-auto text-center">
                    <!-- Logo -->
                    <div class="logo-container mb-4">
                        <i class="bi bi-tv-fill logo-icon"></i>
                    </div>
                    
                    <!-- Title -->
                    <h1 class="display-4 fw-bold mb-3">TMDB剧集管理系统</h1>
                    <p class="lead mb-4">高效管理您的剧集数据，自动化爬取与发布</p>
                    
                    <!-- Features -->
                    <div class="features-grid mb-5">
                        <div class="feature-item">
                            <i class="bi bi-cloud-download feature-icon"></i>
                            <h5>自动爬取</h5>
                            <p class="text-muted">从TMDB自动获取剧集信息</p>
                        </div>
                        <div class="feature-item">
                            <i class="bi bi-file-earmark-text feature-icon"></i>
                            <h5>智能发布</h5>
                            <p class="text-muted">一键发布到Telegraph</p>
                        </div>
                        <div class="feature-item">
                            <i class="bi bi-calendar-check feature-icon"></i>
                            <h5>定时任务</h5>
                            <p class="text-muted">灵活的定时调度系统</p>
                        </div>
                        <div class="feature-item">
                            <i class="bi bi-shield-check feature-icon"></i>
                            <h5>安全认证</h5>
                            <p class="text-muted">完善的权限管理系统</p>
                        </div>
                    </div>
                    
                    <!-- Login Button -->
                    <div class="login-section">
                        <button class="btn btn-primary btn-lg px-5" id="loginBtn">
                            <i class="bi bi-box-arrow-in-right me-2"></i>
                            立即登录
                        </button>
                        <p class="mt-3 text-muted">
                            <small>请使用管理员API密钥登录</small>
                        </p>
                    </div>
                    
                    <!-- Info Cards -->
                    <div class="row mt-5">
                        <div class="col-md-6 mb-3">
                            <div class="info-card">
                                <i class="bi bi-info-circle info-icon"></i>
                                <h6>关于系统</h6>
                                <p class="small text-muted mb-0">
                                    本系统基于Go语言开发，提供高效的剧集数据管理和自动化发布功能
                                </p>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="info-card">
                                <i class="bi bi-book info-icon"></i>
                                <h6>使用文档</h6>
                                <p class="small text-muted mb-0">
                                    登录后可查看详细的使用文档和API说明
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-shield-lock me-2"></i>
                        管理员登录
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="apiKey" class="form-label">API密钥</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-key"></i>
                                </span>
                                <input type="password" 
                                       class="form-control" 
                                       id="apiKey" 
                                       placeholder="请输入管理员API密钥"
                                       required
                                       autocomplete="current-password">
                                <button class="btn btn-outline-secondary" 
                                        type="button" 
                                        id="togglePassword">
                                    <i class="bi bi-eye"></i>
                                </button>
                            </div>
                            <div class="form-text">
                                API密钥配置在环境变量 ADMIN_API_KEY 或配置文件中
                            </div>
                        </div>
                        
                        <!-- Error Message -->
                        <div class="alert alert-danger d-none" id="loginError" role="alert">
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            <span id="loginErrorText"></span>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        取消
                    </button>
                    <button type="button" class="btn btn-primary" id="submitLogin">
                        <i class="bi bi-box-arrow-in-right me-2"></i>
                        登录
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3" id="toastContainer"></div>
    
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="js/api.js"></script>
    <script src="js/welcome.js"></script>
</body>
</html>
