# Production Environment Configuration
# Version: 2.0
# Created: 2026-01-12
# 
# Copy this file to .env and fill in the actual values
# DO NOT commit .env file to version control

# ============================================
# Application Configuration
# ============================================
APP_ENV=production
APP_PORT=8888
LOG_LEVEL=info

# Build Information
BUILD_VERSION=2.0.0
BUILD_TIME=2026-01-12T00:00:00Z
COMMIT_SHA=abc123

# ============================================
# Database Configuration
# ============================================
# Database Type: sqlite or postgres
DB_TYPE=sqlite

# SQLite Configuration (if DB_TYPE=sqlite)
DB_PATH=/app/data/tmdb.db

# PostgreSQL Configuration (if DB_TYPE=postgres)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=tmdb
DB_USER=tmdb
DB_PASSWORD=your_secure_postgres_password_here

# ============================================
# TMDB API Configuration
# ============================================
TMDB_API_KEY=your_tmdb_api_key_here
TMDB_BASE_URL=https://api.themoviedb.org/3
TMDB_LANGUAGE=zh-CN
TMDB_TIMEOUT=30s

# ============================================
# Telegraph Configuration
# ============================================
TELEGRAPH_TOKEN=your_telegraph_token_here
TELEGRAPH_AUTHOR_NAME=剧集更新助手
TELEGRAPH_AUTHOR_URL=

# ============================================
# Scheduler Configuration
# ============================================
ENABLE_SCHEDULER=true
DAILY_CRON=0 8 * * *

# ============================================
# Performance Configuration
# ============================================
# Enable caching
CACHE_ENABLED=true
CACHE_TTL=300

# Maximum concurrent requests
MAX_CONCURRENT_REQUESTS=100

# Database connection pool (for PostgreSQL)
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# ============================================
# Security Configuration
# ============================================
# Admin API Key for protected endpoints
ADMIN_API_KEY=your_secure_admin_api_key_here

# CORS Configuration
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*

# Session Configuration
SESSION_SECRET=your_secure_session_secret_here
SESSION_EXPIRATION=24h

# ============================================
# Redis Configuration (Optional)
# ============================================
REDIS_ENABLED=false
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# ============================================
# Logging Configuration
# ============================================
# Log file paths
LOG_DIR=/app/logs
LOG_FILE_MAX_SIZE=100
LOG_FILE_MAX_BACKUPS=3
LOG_FILE_MAX_AGE=28

# ============================================
# Timezone Configuration
# ============================================
TZ=Asia/Shanghai

# ============================================
# Feature Flags
# ============================================
ENABLE_METRICS=true
ENABLE_HEALTH_CHECK=true
ENABLE_PPROF=false

# ============================================
# Rate Limiting (Optional)
# ============================================
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================
# Deployment Configuration
# ============================================
# Docker Compose profiles to enable
COMPOSE_PROFILES=with-postgres,with-nginx

# ============================================
# Monitoring & Alerting (Optional)
# ============================================
# Sentry DSN for error tracking
SENTRY_DSN=

# Prometheus metrics endpoint
METRICS_ENABLED=false
METRICS_PORT=9090
