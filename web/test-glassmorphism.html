<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glassmorphism Design Test - TMDB Crawler</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Glassmorphism Design System -->
    <link href="css/glassmorphism.css?v=1.0" rel="stylesheet">
</head>
<body>
    <!-- Test Navbar -->
    <nav class="navbar navbar-expand-lg glass-navbar">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <i class="bi bi-tv"></i> Glassmorphism 测试
            </a>
            <ul class="navbar-nav ms-auto gap-2">
                <li class="nav-item">
                    <button class="theme-toggle" id="themeToggle"
                            aria-label="切换主题" title="切换主题">
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Test Content -->
    <div class="container-fluid mt-4">
        <div class="row mb-4">
            <div class="col-12">
                <div class="glass-card p-4">
                    <h1 class="mb-3">
                        <i class="bi bi-palette text-primary"></i> Glassmorphism 设计系统测试
                    </h1>
                    <p class="text-muted mb-0">
                        此页面用于测试所有玻璃拟态组件和暗色模式切换功能。
                    </p>
                </div>
            </div>
        </div>

        <!-- Test Cards -->
        <div class="row mb-4 g-3">
            <div class="col-md-3">
                <div class="glass-stats">
                    <div class="stat-value">1,234</div>
                    <div class="stat-label">测试数据</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-stats">
                    <div class="stat-value text-success">567</div>
                    <div class="stat-label">成功</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-stats">
                    <div class="stat-value text-primary">89</div>
                    <div class="stat-label">处理中</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="glass-stats">
                    <div class="stat-value" style="color: var(--glass-text-muted);">12</div>
                    <div class="stat-label">待处理</div>
                </div>
            </div>
        </div>

        <!-- Test Form Elements -->
        <div class="row mb-4 g-3">
            <div class="col-md-6">
                <div class="glass-card p-3">
                    <h5 class="mb-3">表单元素测试</h5>
                    <div class="mb-3">
                        <label class="form-label">文本输入</label>
                        <input type="text" class="glass-input w-100" placeholder="输入一些文字...">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">下拉选择</label>
                        <select class="glass-select w-100">
                            <option>选项 1</option>
                            <option>选项 2</option>
                            <option>选项 3</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="glass-card p-3">
                    <h5 class="mb-3">徽章测试</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <span class="glass-badge glass-badge-success">成功</span>
                        <span class="glass-badge glass-badge-warning">警告</span>
                        <span class="glass-badge glass-badge-danger">危险</span>
                        <span class="glass-badge glass-badge-info">信息</span>
                        <span class="glass-badge glass-badge-secondary">次要</span>
                    </div>
                    <h5 class="mb-3 mt-4">按钮测试</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <button class="btn glass-btn">默认</button>
                        <button class="btn glass-btn glass-btn-primary">主要</button>
                        <button class="btn glass-btn glass-btn-success">成功</button>
                        <button class="btn glass-btn glass-btn-danger">危险</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test Table -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="glass-card">
                    <div class="card-body p-0">
                        <table class="table table-hover mb-0">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>名称</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>测试项目 1</td>
                                    <td><span class="glass-badge glass-badge-success">活跃</span></td>
                                    <td><button class="btn glass-btn btn-sm">查看</button></td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>测试项目 2</td>
                                    <td><span class="glass-badge glass-badge-warning">处理中</span></td>
                                    <td><button class="btn glass-btn btn-sm">查看</button></td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>测试项目 3</td>
                                    <td><span class="glass-badge glass-badge-danger">已关闭</span></td>
                                    <td><button class="btn glass-btn btn-sm">查看</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test Pagination -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="glass-card p-3">
                    <h5 class="mb-3">分页测试</h5>
                    <nav aria-label="分页导航">
                        <ul class="glass-pagination">
                            <li><a class="glass-page-link" href="#" aria-label="上一页">
                                <i class="bi bi-chevron-left"></i>
                            </a></li>
                            <li><a class="glass-page-link active" href="#">1</a></li>
                            <li><a class="glass-page-link" href="#">2</a></li>
                            <li><a class="glass-page-link" href="#">3</a></li>
                            <li><span class="glass-page-link">...</span></li>
                            <li><a class="glass-page-link" href="#">10</a></li>
                            <li><a class="glass-page-link" href="#" aria-label="下一页">
                                <i class="bi bi-chevron-right"></i>
                            </a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Test Loading States -->
        <div class="row mb-4">
            <div class="col-md-6">
                <div class="glass-card p-4 text-center">
                    <h5 class="mb-3">加载动画测试</h5>
                    <div class="glass-spinner mx-auto mb-3"></div>
                    <p class="text-muted">正在加载...</p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="glass-card p-4">
                    <h5 class="mb-3">骨架屏测试</h5>
                    <div class="glass-skeleton mb-2" style="height: 20px; width: 100%;"></div>
                    <div class="glass-skeleton mb-2" style="height: 20px; width: 80%;"></div>
                    <div class="glass-skeleton mb-2" style="height: 20px; width: 60%;"></div>
                    <div class="glass-skeleton" style="height: 60px; width: 100%;"></div>
                </div>
            </div>
        </div>

        <!-- Accessibility Test Info -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="glass-card p-4">
                    <h5 class="mb-3">
                        <i class="bi bi-universal-access"></i> 可访问性测试清单
                    </h5>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>键盘导航测试</h6>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle text-success"></i> Tab 键遍历所有交互元素</li>
                                <li><i class="bi bi-check-circle text-success"></i> 焦点状态可见</li>
                                <li><i class="bi bi-check-circle text-success"></i> 焦点顺序符合逻辑</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>ARIA 标签测试</h6>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle text-success"></i> 所有按钮有 aria-label</li>
                                <li><i class="bi bi-check-circle text-success"></i> 表单元素有关联标签</li>
                                <li><i class="bi bi-check-circle text-success"></i> 导航有适当标记</li>
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>对比度测试</h6>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle text-success"></i> 主文本对比度 > 7:1</li>
                                <li><i class="bi bi-check-circle text-success"></i> 次要文本对比度 > 4.5:1</li>
                                <li><i class="bi bi-check-circle text-success"></i> 交互元素清晰可见</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>动画测试</h6>
                            <ul class="list-unstyled">
                                <li><i class="bi bi-check-circle text-success"></i> 动画时长 150-300ms</li>
                                <li><i class="bi bi-check-circle text-success"></i> 使用 prefers-reduced-motion</li>
                                <li><i class="bi bi-check-circle text-success"></i> GPU 加速 (transform/opacity)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Theme Instructions -->
        <div class="row">
            <div class="col-12">
                <div class="glass-card p-4" style="border-left: 4px solid var(--glass-accent);">
                    <h5 class="mb-3">
                        <i class="bi bi-lightbulb text-warning"></i> 测试说明
                    </h5>
                    <ol class="mb-0">
                        <li>点击右上角的<strong>主题切换按钮</strong>测试暗色模式</li>
                        <li>使用 <strong>Tab 键</strong> 测试键盘导航</li>
                        <li>悬停在卡片和按钮上查看<strong>悬停效果</strong></li>
                        <li>调整浏览器宽度测试<strong>响应式布局</strong></li>
                        <li>在系统设置中启用<strong>减少动画</strong>测试动画禁用</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Theme Toggle Script -->
    <script>
    (function() {
        'use strict';

        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;

        const getPreferredTheme = () => {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                return savedTheme;
            }
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        };

        const setTheme = (theme) => {
            html.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            window.dispatchEvent(new CustomEvent('themeChanged', { detail: { theme } }));
        };

        setTheme(getPreferredTheme());

        if (themeToggle) {
            themeToggle.addEventListener('click', function() {
                const currentTheme = html.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                setTheme(newTheme);
            });
        }

        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
            if (!localStorage.getItem('theme')) {
                setTheme(e.matches ? 'dark' : 'light');
            }
        });
    })();
    </script>
</body>
</html>
